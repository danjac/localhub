{# Copyright (c) 2019 by Dan Jacob #}
{# SPDX-License-Identifier: AGPL-3.0-or-later #}

{% extends "base.html" %}
{% load i18n %}

{% block subtitle %} | {% trans "Local Network" %}{% endblock %}

{% block content %}
<h3>{% trans "Local Network" %}</h3>
<div class="actions">
    <a href="{% url 'help_pages:communities'%}#local-network">{% trans "Help" %}</a>
</div>
<div class="divider"></div>

{% include "includes/search_form.html" %}

<table class="table table-striped table-hover table-responsive-sm">
    <thead>
        <tr>
            <th>{% trans "Community" %}</th>
            <th>{% trans "Members" %}</th>
            <th>{% trans "Tagline" %}</th>
        </tr>
    </thead>
    <tbody>
        {% for object in object_list %}
        <tr>
            <td>
                {% if object == community %}
                {{ object.name }}
                {% else %}
                <a href="{{ object.get_absolute_url }}">{{ object.name }}</a>
                {% endif %}

                {% if object.is_member %}
                <span class="chip bg-primary">{% trans "Member" %}</span>
                {% endif %}

                {% if not object.public %}
                <span class="chip bg-dark">{% trans "Private" %}</span>
                {% endif %}
            </td>
            <td>{{ object.num_members }}</td>
            <td>{{ object.tagline|default:"-"|linebreaksbr }}</td>
        </tr>
        {% endfor %}

    </tbody>
</table>

{% include "includes/pagination.html" %}
{% endblock content %}
