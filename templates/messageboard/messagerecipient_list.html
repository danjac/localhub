{# Copyright (c) 2019 by Dan Jacob #}
{# SPDX-License-Identifier: AGPL-3.0-or-later #}

{% extends "messageboard/base.html" %}

{% load i18n %}

{% block messageboard_content %}

<p class="bg-gray p-2 text-center">
  {% url 'user_update' as user_settings_url %}
  {% blocktrans %}You can enable emails for new messages <a href="{{ user_settings_url }}">in your settings</a>.{% endblocktrans %}
</p>

{% for recipient in object_list %}
<div class="card mb-1">
  <div class="card-header">
    <div class="card-title">
      <a href="{{ recipient.get_absolute_url }}">
        {% if not recipient.read %}<strong>{% endif %}
          {{ recipient.message.subject }}
          {% if not recipient.read %}</strong>{% endif %}
      </a>
    </div>
    <div class="card-subtitle text-gray">
      {% blocktrans with created=recipient.message.created|timesince %}
      {{ created }} ago from
      {% endblocktrans %}
      {% include "users/includes/chip.html" with profile=recipient.message.sender %}
    </div>
  </div>
</div>
{% empty %}
<div class="empty">
  <div class="empty-icon">
    <i class="icon icon-mail"></i>
  </div>
  <p class="empty-title h5">{% trans "Your inbox is empty" %}</p>
</div>
{% endfor %}
{% include "includes/pagination.html" %}
{% endblock messageboard_content %}


